{"ast":null,"code":"import _slicedToArray from \"/home/usuario/node-react/react/design-patterns/HOC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/usuario/node-react/react/design-patterns/HOC/src/use-visibility.js\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction withUseVisibility(Component) {\n  function UseVisibility() {\n    const _useState = useState(true),\n          _useState2 = _slicedToArray(_useState, 2),\n          visibility = _useState2[0],\n          setvisibility = _useState2[1];\n\n    useEffect(() => {\n      function handler() {\n        if (document.hidden) {\n          setvisibility(false);\n          console.log(\"Page is not visible\");\n        } else {\n          setvisibility(true);\n          console.log(\"Page is visible\");\n        }\n      }\n\n      document.addEventListener(\"visibilitychange\", handler);\n      return () => window.removeEventListener(\"visibilitychange\", handler);\n    }, [setvisibility]);\n    return React.createElement(Component, {\n      visibility: visibility,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    });\n  }\n\n  return UseVisibility;\n}\n\nexport default withUseVisibility;","map":{"version":3,"sources":["/home/usuario/node-react/react/design-patterns/HOC/src/use-visibility.js"],"names":["React","useEffect","useState","withUseVisibility","Component","UseVisibility","visibility","setvisibility","handler","document","hidden","console","log","addEventListener","window","removeEventListener"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,SAASC,iBAAT,CAA2BC,SAA3B,EAAsC;AACpC,WAASC,aAAT,GAAyB;AAAA,sBACaH,QAAQ,CAAC,IAAD,CADrB;AAAA;AAAA,UAChBI,UADgB;AAAA,UACJC,aADI;;AAEvBN,IAAAA,SAAS,CAAC,MAAM;AACd,eAASO,OAAT,GAAmB;AACjB,YAAIC,QAAQ,CAACC,MAAb,EAAqB;AACnBH,UAAAA,aAAa,CAAC,KAAD,CAAb;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,SAHD,MAGO;AACLL,UAAAA,aAAa,CAAC,IAAD,CAAb;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;AACF;;AAEDH,MAAAA,QAAQ,CAACI,gBAAT,CAA0B,kBAA1B,EAA8CL,OAA9C;AACA,aAAO,MAAMM,MAAM,CAACC,mBAAP,CAA2B,kBAA3B,EAA+CP,OAA/C,CAAb;AACD,KAbQ,EAaN,CAACD,aAAD,CAbM,CAAT;AAcA,WAAO,oBAAC,SAAD;AAAW,MAAA,UAAU,EAAED,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SAAOD,aAAP;AACD;;AAED,eAAeF,iBAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nfunction withUseVisibility(Component) {\n  function UseVisibility() {\n    const [visibility, setvisibility] = useState(true);\n    useEffect(() => {\n      function handler() {\n        if (document.hidden) {\n          setvisibility(false);\n          console.log(\"Page is not visible\");\n        } else {\n          setvisibility(true);\n          console.log(\"Page is visible\");\n        }\n      }\n\n      document.addEventListener(\"visibilitychange\", handler);\n      return () => window.removeEventListener(\"visibilitychange\", handler);\n    }, [setvisibility]);\n    return <Component visibility={visibility} />;\n  }\n  return UseVisibility;\n}\n\nexport default withUseVisibility;\n"]},"metadata":{},"sourceType":"module"}