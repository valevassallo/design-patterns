{"ast":null,"code":"import _slicedToArray from \"/home/usuario/node-react/react/design-patterns/render-props/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction useVisibility({\n  render = children,\n  children\n}) {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        visibility = _useState2[0],\n        setvisibility = _useState2[1];\n\n  useEffect(() => {\n    function handler() {\n      if (document.hidden) {\n        setvisibility(false);\n        console.log(\"Page is not visible\");\n      } else {\n        setvisibility(true);\n        console.log(\"Page is visible\");\n      }\n    }\n\n    document.addEventListener(\"visibilitychange\", handler);\n    return () => window.removeEventListener(\"visibilitychange\", handler);\n  }, [setvisibility]);\n  return render({\n    visibility\n  });\n}\n\nexport default useVisibility;","map":{"version":3,"sources":["/home/usuario/node-react/react/design-patterns/render-props/src/use-visibility.js"],"names":["React","useEffect","useState","useVisibility","render","children","visibility","setvisibility","handler","document","hidden","console","log","addEventListener","window","removeEventListener"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,SAASC,aAAT,CAAuB;AAAEC,EAAAA,MAAM,GAAGC,QAAX;AAAqBA,EAAAA;AAArB,CAAvB,EAAwD;AAAA,oBAClBH,QAAQ,CAAC,IAAD,CADU;AAAA;AAAA,QAC/CI,UAD+C;AAAA,QACnCC,aADmC;;AAEtDN,EAAAA,SAAS,CAAC,MAAM;AACd,aAASO,OAAT,GAAmB;AACjB,UAAIC,QAAQ,CAACC,MAAb,EAAqB;AACnBH,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,OAHD,MAGO;AACLL,QAAAA,aAAa,CAAC,IAAD,CAAb;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;AACF;;AAEDH,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,kBAA1B,EAA8CL,OAA9C;AACA,WAAO,MAAMM,MAAM,CAACC,mBAAP,CAA2B,kBAA3B,EAA+CP,OAA/C,CAAb;AACD,GAbQ,EAaN,CAACD,aAAD,CAbM,CAAT;AAcA,SAAOH,MAAM,CAAC;AAAEE,IAAAA;AAAF,GAAD,CAAb;AACD;;AAED,eAAeH,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nfunction useVisibility({ render = children, children }) {\n  const [visibility, setvisibility] = useState(true);\n  useEffect(() => {\n    function handler() {\n      if (document.hidden) {\n        setvisibility(false);\n        console.log(\"Page is not visible\");\n      } else {\n        setvisibility(true);\n        console.log(\"Page is visible\");\n      }\n    }\n\n    document.addEventListener(\"visibilitychange\", handler);\n    return () => window.removeEventListener(\"visibilitychange\", handler);\n  }, [setvisibility]);\n  return render({ visibility });\n}\n\nexport default useVisibility;\n"]},"metadata":{},"sourceType":"module"}