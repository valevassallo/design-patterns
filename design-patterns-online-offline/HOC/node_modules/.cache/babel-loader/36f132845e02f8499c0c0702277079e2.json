{"ast":null,"code":"import _slicedToArray from \"/home/usuario/node-react/react/design-patterns-online-offline/HOC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/usuario/node-react/react/design-patterns-online-offline/HOC/src/use-connection.js\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction withUseConnection(Component) {\n  function UseConnection() {\n    const _useState = useState(true),\n          _useState2 = _slicedToArray(_useState, 2),\n          connection = _useState2[0],\n          setConnection = _useState2[1];\n\n    useEffect(() => {\n      function handler() {\n        if (navigator.onLine) {\n          console.log(\"online\");\n          setConnection(true);\n        } else {\n          console.log(\"offline\");\n          setConnection(false);\n        }\n      }\n\n      window.addEventListener(\"online\", handler);\n      window.addEventListener(\"offline\", handler);\n      return () => window.removeEventListener(handler);\n    }, [setConnection]);\n    return React.createElement(Component, {\n      connection: connection,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    });\n  }\n\n  return UseConnection;\n}\n\nexport default withUseConnection;","map":{"version":3,"sources":["/home/usuario/node-react/react/design-patterns-online-offline/HOC/src/use-connection.js"],"names":["React","useEffect","useState","withUseConnection","Component","UseConnection","connection","setConnection","handler","navigator","onLine","console","log","window","addEventListener","removeEventListener"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,SAASC,iBAAT,CAA2BC,SAA3B,EAAsC;AACpC,WAASC,aAAT,GAAyB;AAAA,sBACaH,QAAQ,CAAC,IAAD,CADrB;AAAA;AAAA,UAChBI,UADgB;AAAA,UACJC,aADI;;AAEvBN,IAAAA,SAAS,CAAC,MAAM;AACd,eAASO,OAAT,GAAmB;AACjB,YAAIC,SAAS,CAACC,MAAd,EAAsB;AACpBC,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAL,UAAAA,aAAa,CAAC,IAAD,CAAb;AACD,SAHD,MAGO;AACLI,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAL,UAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF;;AACDM,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCN,OAAlC;AACAK,MAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCN,OAAnC;AACA,aAAO,MAAMK,MAAM,CAACE,mBAAP,CAA2BP,OAA3B,CAAb;AACD,KAbQ,EAaN,CAACD,aAAD,CAbM,CAAT;AAcA,WAAO,oBAAC,SAAD;AAAW,MAAA,UAAU,EAAED,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SAAOD,aAAP;AACD;;AAED,eAAeF,iBAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nfunction withUseConnection(Component) {\n  function UseConnection() {\n    const [connection, setConnection] = useState(true);\n    useEffect(() => {\n      function handler() {\n        if (navigator.onLine) {\n          console.log(\"online\");\n          setConnection(true);\n        } else {\n          console.log(\"offline\");\n          setConnection(false);\n        }\n      }\n      window.addEventListener(\"online\", handler);\n      window.addEventListener(\"offline\", handler);\n      return () => window.removeEventListener(handler);\n    }, [setConnection]);\n    return <Component connection={connection} />;\n  }\n  return UseConnection;\n}\n\nexport default withUseConnection;\n"]},"metadata":{},"sourceType":"module"}